
{% import "macro.twig" as macro %}

<table class="table table-condensed">
    <tbody>
        <tr>
            <td>{{ 'global.name'|trans }}</td>
            <td><b>{{ account.name }}</b></td>
        </tr>
        <tr>
            <td>{{ 'global.creation_date'|trans }}</td>
            <td>{{ account.created }} <small>(UTC)</small></td>
        </tr>
        <tr>
            <td>{{ 'global.world'|trans }}</td>
            <td>{{ account.world.name }}</td>
        </tr>
        <tr>
            <td>{{ 'global.guilds'|trans }}</td>
            <td>
                {% for guild in account.guilds %}
                    <div>
                        <img src="{{ guild|image }}" class="emblem" />
                        {{ guild.fullname }}
                    </div>
                {% endfor %}
            </td>
        </tr>
        {% if module.owner %}
            <tr>
                <td>{{ 'global.api_key'|trans }}</td>
                <td class="text-owner">
                    <span>{{ account.accesstoken }}</span>
                    <span class="btn btn-default action-delete-token">{{ 'global.unregister_api_key'|trans }}</span>
                </td>
            </tr>
            <tr>
                <td>{{ 'global.permissions'|trans }}</td>
                <td class="text-owner">
                    {% for permission in module.permissionslist %}
                        {% if account.haspermission(permission) %}
                            <span class="label label-success">{{ permission }}</span>
                        {% else %}
                            <span class="label label-danger">{{ permission }}</span>
                        {% endif %}
                    {% endfor %}
                </td>
            </tr>
            <tr>
                <td>{{ 'global.public_access'|trans }}</td>
                <td class="text-owner">
                    <div class="rights">
                        {% for right, txt in module.menu.rights %}
                            {% set checked = user.hasRight(right) %}
                            <div class="form-group">
                                <div class="checkbox">
                                    <label>
                                        <input type="checkbox" {{ checked ? 'checked="checked"' : '' }} value="{{ right }}" />  {{ txt }}
                                    </label>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                    <span class="btn btn-default action-save-rights">{{ 'global.save_preferences'|trans }}</span>
                </td>
            </tr>
        {% endif %}
    </tbody>
</table>
